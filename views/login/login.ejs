<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    ===== Iconscout CSS =====
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">

    ===== CSS =====
    <link rel="stylesheet" href="style.css">

    <title>Login & Registration Form</title>
</head>

<body>



    <div class="container" id="container">

        <div id="login-form" class="form-container sign-in">
            <form action="/login" method="post">
                <h1>Sign in</h1>
                <span>or use your account</span>
                <input name="loginEmail" type="email" placeholder="Email" />
                <input name="loginPassword" type="password" placeholder="Password" />
                <a href="#">Forgot your password?</a>
                <button type="submit">Sign In</button>
            </form>
        </div>
        <div id="signup-form" class="form-container sign-up">
            <form action="/signup" method="post">
                <h1>Create Account</h1>
                <span>or use your email for registration</span>
                <input name="userName" type="text" placeholder="Name" />
                <input name="signupEmail" type="email" placeholder="Email" />
                <input name="signupPassword" type="password" placeholder="Password" />
                <button type="submit">Sign Up</button>
            </form>
        </div>
        <div class="overlay-container">
            <div class="overlay">
                <div class="overlay-panel overlay-left">
                    <h1>Welcome Back!</h1>
                    <p>To keep connected with us please login with your personal info</p>
                    <button id="signIn">Sign In</button>
                </div>
                <div class="overlay-panel overlay-right">
                    <h1>New here?</h1>
                    <p>Sign up and discover great amount of new opportunities!</p>
                    <button id="signUp">Sign Up</button>
                </div>
            </div>
        </div>
    </div>


    <script src="index.js"></script>
    
    <script>
        document.getElementById('login-form').addEventListener('submit', async function (e) {
            e.preventDefault();

            const form = e.target;
            const formData = new FormData(form);

            const response = await fetch('/edit', {
                method: 'POST',
                body: formData
            });

            if (response.status === 404) {
                alert('User not found');
            } else if (response.status === 401) {
                alert('Invalid credentials');
            } else if (response.ok) {
                window.location.href = '/edit';
            } else {
                alert('An error occurred');
            }
        });
    </script>
</body>

</html> -->







<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- ===== Iconscout CSS ===== -->
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">

    <!-- ===== CSS ===== -->
    <link rel="stylesheet" href="style.css">

    <title>Login & Registration Form</title>
</head>

<body>

    <div class="container" id="container">

        <div id="login-form" class="form-container sign-in">
            <form id="loginForm">
                <h1>Sign in</h1>
                <span>or use your account</span>
                <input name="loginEmail" type="email" placeholder="Email" required />
                <input name="loginPassword" type="password" placeholder="Password" required />
                <a href="#">Forgot your password?</a>
                <button type="submit">Sign In</button>
            </form>
        </div>
        <div id="signup-form" class="form-container sign-up">
            <form action="/signup" method="post">
                <h1>Create Account</h1>
                <span>or use your email for registration</span>
                <input name="userName" type="text" placeholder="Name" required />
                <input name="signupEmail" type="email" placeholder="Email" required />
                <input name="signupPassword" type="password" placeholder="Password" required />
                <button type="submit">Sign Up</button>
            </form>
        </div>
        <div class="overlay-container">
            <div class="overlay">
                <div class="overlay-panel overlay-left">
                    <h1>Welcome Back!</h1>
                    <p>To keep connected with us please login with your personal info</p>
                    <button id="signIn">Sign In</button>
                </div>
                <div class="overlay-panel overlay-right">
                    <h1>New here?</h1>
                    <p>Sign up and discover great amount of new opportunities!</p>
                    <button id="signUp">Sign Up</button>
                </div>
            </div>
        </div>
    </div>

    <script src="index.js"></script>
    
    <script>
        document.getElementById('loginForm').addEventListener('submit', async function (e) {
            e.preventDefault();

            const form = e.target;
            const formData = new FormData(form);

            const response = await fetch('/login', { // Correct endpoint
                method: 'POST',
                body: formData
            });

            if (response.status === 404) {
                alert('User not found');
            } else if (response.status === 401) {
                alert('Invalid credentials');
            } else if (response.ok) {
                window.location.href = '/edit';
            } else {
                alert('An error occurred');
            }
        });

        // Additional JavaScript to handle the switching between sign-in and sign-up forms
        document.getElementById('signIn').addEventListener('click', function () {
            document.getElementById('container').classList.remove('right-panel-active');
        });

        document.getElementById('signUp').addEventListener('click', function () {
            document.getElementById('container').classList.add('right-panel-active');
        });
    </script>
</body>

</html>
